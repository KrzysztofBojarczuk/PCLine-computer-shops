{"ast":null,"code":"var _class;\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/authentication.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/button\";\nfunction LoginComponent_mat_error_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Username is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_mat_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtemplate(1, LoginComponent_mat_error_7_span_1_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.loginForm.get(\"username\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nfunction LoginComponent_mat_error_12_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Password is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtemplate(1, LoginComponent_mat_error_12_span_1_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.loginForm.get(\"password\")) == null ? null : tmp_0_0.hasError(\"required\"));\n  }\n}\nexport class LoginComponent {\n  constructor(fb, authenticationService) {\n    this.fb = fb;\n    this.authenticationService = authenticationService;\n    this.isLoggedIn = false;\n    this.loginForm = this.fb.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n  onSubmit(loginUser) {\n    this.authenticationService.loginUserService(loginUser).subscribe(res => {\n      const token = res.token;\n      this.authenticationService.setToken(token);\n      this.authenticationService.setLoggedIn(true);\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 16,\n  vars: 4,\n  consts: [[1, \"container\", \"d-flex\", \"justify-content-center\", \"align-items-center\", 2, \"height\", \"100vh\"], [2, \"padding\", \"20px\"], [1, \"row\", 2, \"max-width\", \"400px\", \"width\", \"100%\", 3, \"formGroup\", \"ngSubmit\"], [\"matInput\", \"\", \"formControlName\", \"username\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"password\", \"formControlName\", \"password\"], [1, \"mt-3\", 2, \"padding-left\", \"280px\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit(ctx.loginForm.value);\n      });\n      i0.ɵɵelementStart(3, \"mat-form-field\")(4, \"mat-label\");\n      i0.ɵɵtext(5, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 3);\n      i0.ɵɵtemplate(7, LoginComponent_mat_error_7_Template, 2, 1, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"mat-form-field\")(9, \"mat-label\");\n      i0.ɵɵtext(10, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 5);\n      i0.ɵɵtemplate(12, LoginComponent_mat_error_12_Template, 2, 1, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"button\", 7);\n      i0.ɵɵtext(15, \" Submit \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.loginForm.get(\"username\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.loginForm.get(\"username\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n    }\n  },\n  dependencies: [i3.NgIf, i4.MatCard, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i5.MatInput, i6.MatFormField, i6.MatLabel, i6.MatError, i7.MatButton],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;;;;ICmBzDC,4BACG;IAAAA,qCAAqB;IAAAA,iBACvB;;;;;IARHA,iCAKC;IACCA,6EAEC;IACHA,iBAAY;;;;;IAHHA,eAAqD;IAArDA,iHAAqD;;;;;IAe5DA,4BACG;IAAAA,qCAAqB;IAAAA,iBACvB;;;;;IARHA,iCAKC;IACCA,8EAEC;IACHA,iBAAY;;;;;IAHHA,eAAqD;IAArDA,iHAAqD;;;ADzBtE,OAAM,MAAOC,cAAc;EAIzBC,YACUC,EAAe,EACfC,qBAA4C;IAD5C,OAAE,GAAFD,EAAE;IACF,0BAAqB,GAArBC,qBAAqB;IAJ/B,eAAU,GAAY,KAAK;IAMzB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACF,EAAE,CAACG,KAAK,CAAC;MAC7BC,QAAQ,EAAE,CAAC,EAAE,EAAER,UAAU,CAACS,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACS,QAAQ;KACnC,CAAC;EACJ;EAEAE,QAAQ,CAACC,SAAe;IACtB,IAAI,CAACP,qBAAqB,CAACQ,gBAAgB,CAACD,SAAS,CAAC,CAACE,SAAS,CAAEC,GAAG,IAAI;MACvE,MAAMC,KAAK,GAAGD,GAAG,CAACC,KAAK;MACvB,IAAI,CAACX,qBAAqB,CAACY,QAAQ,CAACD,KAAK,CAAC;MAC1C,IAAI,CAACX,qBAAqB,CAACa,WAAW,CAAC,IAAI,CAAC;IAC9C,CAAC,CAAC;EACJ;;SApBWhB,cAAc;;mBAAdA,MAAc;AAAA;;QAAdA,MAAc;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BtB,8BAGC;MAIKA;QAAA,OAAYuB,iCAAyB;MAAA,EAAC;MAItCvB,sCAAgB;MACHA,wBAAQ;MAAAA,iBAAY;MAC/BA,2BAA6C;MAC7CA,2EASY;MACdA,iBAAiB;MAEjBA,sCAAgB;MACHA,yBAAQ;MAAAA,iBAAY;MAC/BA,4BAA6D;MAC7DA,6EASY;MACdA,iBAAiB;MAEjBA,+BAA8C;MAO1CA,yBACF;MAAAA,iBAAS;;;;;MA3CXA,eAAuB;MAAvBA,yCAAuB;MASlBA,eAGD;MAHCA,mLAGD;MAYCA,eAGD;MAHCA,mLAGD;MAaAA,eAA8B;MAA9BA,gDAA8B","names":["Validators","i0","LoginComponent","constructor","fb","authenticationService","loginForm","group","username","required","password","onSubmit","loginUser","loginUserService","subscribe","res","token","setToken","setLoggedIn","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Projects\\PC-Line-computer-shops-Angular\\src\\app\\Authentication\\login\\login.component.ts","D:\\Projects\\PC-Line-computer-shops-Angular\\src\\app\\Authentication\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { User } from 'src/app/models/user';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent {\r\n  loginForm: FormGroup;\r\n  isLoggedIn: boolean = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authenticationService: AuthenticationService\r\n  ) {\r\n    this.loginForm = this.fb.group({\r\n      username: ['', Validators.required],\r\n      password: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  onSubmit(loginUser: User) {\r\n    this.authenticationService.loginUserService(loginUser).subscribe((res) => {\r\n      const token = res.token;\r\n      this.authenticationService.setToken(token);\r\n      this.authenticationService.setLoggedIn(true);\r\n    });\r\n  }\r\n}\r\n","<div\r\n  class=\"container d-flex justify-content-center align-items-center\"\r\n  style=\"height: 100vh\"\r\n>\r\n  <mat-card style=\"padding: 20px\">\r\n    <form\r\n      [formGroup]=\"loginForm\"\r\n      (ngSubmit)=\"onSubmit(loginForm.value)\"\r\n      class=\"row\"\r\n      style=\"max-width: 400px; width: 100%\"\r\n    >\r\n      <mat-form-field>\r\n        <mat-label>Username</mat-label>\r\n        <input matInput formControlName=\"username\" />\r\n        <mat-error\r\n          *ngIf=\"\r\n            loginForm.get('username')?.invalid &&\r\n            loginForm.get('username')?.touched\r\n          \"\r\n        >\r\n          <span *ngIf=\"loginForm.get('username')?.hasError('required')\"\r\n            >Username is required.</span\r\n          >\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field>\r\n        <mat-label>Password</mat-label>\r\n        <input matInput type=\"password\" formControlName=\"password\" />\r\n        <mat-error\r\n          *ngIf=\"\r\n            loginForm.get('password')?.invalid &&\r\n            loginForm.get('password')?.touched\r\n          \"\r\n        >\r\n          <span *ngIf=\"loginForm.get('password')?.hasError('required')\"\r\n            >Password is required.</span\r\n          >\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n      <div class=\"mt-3\" style=\"padding-left: 280px\">\r\n        <button\r\n          mat-raised-button\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          [disabled]=\"loginForm.invalid\"\r\n        >\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}