{"ast":null,"code":"var _class;\nimport { Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/shop.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/product.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/button\";\nexport class ProductFormComponent {\n  constructor(shopService, fb, productService, dialogRef, shopId) {\n    this.shopService = shopService;\n    this.fb = fb;\n    this.productService = productService;\n    this.dialogRef = dialogRef;\n    this.shopId = shopId;\n    this.shops = [];\n    this.title = 'Add Product';\n    this.productForm = this.fb.group({\n      name: ['', Validators.required],\n      price: [null, Validators.required],\n      amount: [null, Validators.required]\n    });\n  }\n  ngOnInit() {}\n  submit(product) {\n    this.productService.postProductForShopService(this.shopId, product).subscribe(() => {\n      this.dialogRef.close();\n    }, error => {\n      console.error('Error:', error);\n    });\n  }\n}\n_class = ProductFormComponent;\n_class.ɵfac = function ProductFormComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ShopService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i4.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-product-form\"]],\n  decls: 26,\n  vars: 3,\n  consts: [[1, \"d-flex\", \"justify-content-between\", \"p-2\"], [\"mat-dialog-close\", \"\", 1, \"bi\", \"bi-x-circle\", 2, \"font-size\", \"1.5rem\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"p-3\", \"m-0\", \"border-0\", \"m-0\", \"border-0\"], [1, \"mb-3\"], [1, \"example-full-width\"], [\"matInput\", \"\", \"formControlName\", \"name\", \"required\", \"\"], [\"matInput\", \"\", \"formControlName\", \"price\", \"type\", \"number\", \"required\", \"\"], [\"matInput\", \"\", \"formControlName\", \"amount\", \"type\", \"number\", \"required\", \"\"], [1, \"d-flex\", \"justify-content-end\", \"p-2\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\", 2, \"margin-right\", \"8px\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"]],\n  template: function ProductFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"i\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductFormComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.submit(ctx.productForm.value);\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"mat-form-field\", 5)(8, \"mat-label\");\n      i0.ɵɵtext(9, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"mat-form-field\", 5)(13, \"mat-label\");\n      i0.ɵɵtext(14, \"Price:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 4)(17, \"mat-form-field\", 5)(18, \"mat-label\");\n      i0.ɵɵtext(19, \"Amount:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 9)(22, \"button\", 10);\n      i0.ɵɵtext(23, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 11);\n      i0.ɵɵtext(25, \" Submit \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"disabled\", ctx.productForm.invalid);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName, i4.MatDialogClose, i5.MatInput, i6.MatFormField, i6.MatLabel, i7.MatButton],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAGA,SAAiCA,UAAU,QAAQ,gBAAgB;AAGnE,SACEC,eAAe,QAGV,0BAA0B;;;;;;;;;AAQjC,OAAM,MAAOC,oBAAoB;EAM/BC,YACUC,WAAwB,EACxBC,EAAe,EACfC,cAA8B,EAC9BC,SAA6C,EACrBC,MAAc;IAJtC,gBAAW,GAAXJ,WAAW;IACX,OAAE,GAAFC,EAAE;IACF,mBAAc,GAAdC,cAAc;IACd,cAAS,GAATC,SAAS;IACe,WAAM,GAANC,MAAM;IAVxC,UAAK,GAAW,EAAE;IAGlB,UAAK,GAAG,aAAa;IASnB,IAAI,CAACC,WAAW,GAAG,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MAC/BC,IAAI,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACY,QAAQ,CAAC;MAC/BC,KAAK,EAAE,CAAC,IAAI,EAAEb,UAAU,CAACY,QAAQ,CAAC;MAClCE,MAAM,EAAE,CAAC,IAAI,EAAEd,UAAU,CAACY,QAAQ;KACnC,CAAC;EACJ;EAEAG,QAAQ,IAAI;EAEZC,MAAM,CAACC,OAAsB;IAC3B,IAAI,CAACX,cAAc,CAChBY,yBAAyB,CAAC,IAAI,CAACV,MAAM,EAAES,OAAO,CAAC,CAC/CE,SAAS,CACR,MAAK;MACH,IAAI,CAACZ,SAAS,CAACa,KAAK,EAAE;IACxB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAChC,CAAC,CACF;EACL;;SAjCWnB,oBAAoB;;mBAApBA,MAAoB,mLAWrBD,eAAe;AAAA;;QAXdC,MAAoB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MClBjCC,8BAAgD;MAC1CA,YAAW;MAAAA,iBAAK;MACpBA,uBAAyE;MAC3EA,iBAAM;MACNA,+BAAuE;MAAvCA;QAAA,OAAYC,iCAAyB;MAAA,EAAC;MACpED,8BAA2C;MAG1BA,qBAAK;MAAAA,iBAAY;MAC5BA,4BAAkD;MACpDA,iBAAiB;MAGnBA,+BAAkB;MAEHA,uBAAM;MAAAA,iBAAY;MAC7BA,4BAAiE;MACnEA,iBAAiB;MAGnBA,+BAAkB;MAEHA,wBAAO;MAAAA,iBAAY;MAC9BA,4BAAkE;MACpEA,iBAAiB;MAkBrBA,+BAA4C;MAExCA,yBACF;MAAAA,iBAAS;MACTA,mCAKC;MACCA,yBACF;MAAAA,iBAAS;;;MApDPA,eAAW;MAAXA,+BAAW;MAGXA,eAAyB;MAAzBA,2CAAyB;MA8CzBA,gBAAgC;MAAhCA,kDAAgC","names":["Validators","MAT_DIALOG_DATA","ProductFormComponent","constructor","shopService","fb","productService","dialogRef","shopId","productForm","group","name","required","price","amount","ngOnInit","submit","product","postProductForShopService","subscribe","close","error","console","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\Projects\\PC-Line-computer-shops-Angular\\src\\app\\products\\product-form\\product-form.component.ts","D:\\Projects\\PC-Line-computer-shops-Angular\\src\\app\\products\\product-form\\product-form.component.html"],"sourcesContent":["import { Inject, Component } from '@angular/core';\r\nimport { Shop } from 'src/app/models/shop';\r\nimport { ShopService } from 'src/app/services/shop.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ProductCreate } from 'src/app/models/product-create';\r\nimport { ProductService } from 'src/app/services/product.service';\r\nimport {\r\n  MAT_DIALOG_DATA,\r\n  MatDialog,\r\n  MatDialogRef,\r\n} from '@angular/material/dialog';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\n\r\n@Component({\r\n  selector: 'app-product-form',\r\n  templateUrl: './product-form.component.html',\r\n  styleUrls: ['./product-form.component.scss'],\r\n})\r\nexport class ProductFormComponent {\r\n  shops: Shop[] = [];\r\n  productForm: FormGroup;\r\n\r\n  title = 'Add Product';\r\n\r\n  constructor(\r\n    private shopService: ShopService,\r\n    private fb: FormBuilder,\r\n    private productService: ProductService,\r\n    private dialogRef: MatDialogRef<ProductFormComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public shopId: number\r\n  ) {\r\n    this.productForm = this.fb.group({\r\n      name: ['', Validators.required],\r\n      price: [null, Validators.required],\r\n      amount: [null, Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  submit(product: ProductCreate) {\r\n    this.productService\r\n      .postProductForShopService(this.shopId, product)\r\n      .subscribe(\r\n        () => {\r\n          this.dialogRef.close();\r\n        },\r\n        (error) => {\r\n          console.error('Error:', error);\r\n        }\r\n      );\r\n  }\r\n}\r\n","<div class=\"d-flex justify-content-between p-2\">\r\n  <h2>{{ title }}</h2>\r\n  <i class=\"bi bi-x-circle\" style=\"font-size: 1.5rem\" mat-dialog-close></i>\r\n</div>\r\n<form [formGroup]=\"productForm\" (ngSubmit)=\"submit(productForm.value)\">\r\n  <div class=\"p-3 m-0 border-0 m-0 border-0\">\r\n    <div class=\"mb-3\">\r\n      <mat-form-field class=\"example-full-width\">\r\n        <mat-label>Name:</mat-label>\r\n        <input matInput formControlName=\"name\" required />\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <mat-form-field class=\"example-full-width\">\r\n        <mat-label>Price:</mat-label>\r\n        <input matInput formControlName=\"price\" type=\"number\" required />\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <mat-form-field class=\"example-full-width\">\r\n        <mat-label>Amount:</mat-label>\r\n        <input matInput formControlName=\"amount\" type=\"number\" required />\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <!-- <div class=\"mb-3\">\r\n      <mat-form-field class=\"example-full-width\">\r\n        <mat-label>Select Shop ID</mat-label>\r\n        <mat-select\r\n          [formGroup]=\"selectedShopFormId\"\r\n          formControlName=\"selectedShopId\"\r\n          required\r\n        >\r\n          <mat-option *ngFor=\"let shop of shops\" [value]=\"shop.shopId\">\r\n            {{ shop.shopId + \" \" + shop.name }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n    </div> -->\r\n  </div>\r\n  <div class=\"d-flex justify-content-end p-2\">\r\n    <button style=\"margin-right: 8px\" mat-raised-button mat-dialog-close>\r\n      Cancel\r\n    </button>\r\n    <button\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      type=\"submit\"\r\n      [disabled]=\"productForm.invalid\"\r\n    >\r\n      Submit\r\n    </button>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}